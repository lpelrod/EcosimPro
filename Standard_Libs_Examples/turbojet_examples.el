/*-----------------------------------------------------------------------------------------
 FILE: turbojet_examples
-----------------------------------------------------------------------------------------*/
-- Libraries
USE MATH 
USE TURBOJET 


COMPONENT turbofan
"Turbofan example"
TOPOLOGY

		-----------------------------------------------------------
		-- Coded in TURBOJET_EXAMPLES.turbofan
		-----------------------------------------------------------
	TURBOJET.Inlet inlet (dTamb = 0,Rhum = 30,ERAM = FromData,zeram = 0.99,eramxx = { { 0,12.5,25,30} ,{ 1,0.99,0.98,0.97} } ) 
	TURBOJET.Turbine lp_turbine (I = 10,CG1 = 1,CG2 = 1,CG3 = 1,CG4 = 1,G1 = { { 0.3125,0.5,0.5625,0.6875,0.875,1,1.0625,1.125,1.25,1.375,1.5} ,{ 0.53839,0.8,0.90001,1,1.1,1.1478,1.2434} ,{ { 0.89607,0.90741,0.91421,0.92593,0.9394,0.94603,0.95171} ,{ 0.97399,0.97222,0.96964,0.96953,0.97082,0.97177,0.97389} ,{ 0.985,0.98338,0.9801,0.97852,0.97871,0.97922,0.9805} ,{ 1.0001,0.99883,0.99531,0.99168,0.99027,0.99013,0.99019} ,{ 1.0054,1.0048,1.0039,0.9993,0.99707,0.99657,0.99592} ,{ 1.0064,1.006,1.0047,1,0.99789,0.9975,0.99711} ,{ 1.0067,1.006,1.0047,1.0005,0.99836,0.99785,0.99717} ,{ 1.0068,1.006,1.0047,1.0006,0.99859,0.99814,0.99758} ,{ 1.0068,1.006,1.0047,1.0006,0.99859,0.99814,0.99757} ,{ 1.0067,1.006,1.0047,1.0004,0.99828,0.99776,0.99703} ,{ 1.0066,1.006,1.0047,1.0002,0.99782,0.99718,0.99622} } } ,G2 = { { 0.3125,0.5,0.5625,0.6875,0.875,1,1.0625,1.125,1.25,1.375,1.5} ,{ 0.53839,0.8,0.90001,1,1.1,1.1478,1.2434} ,{ { 0.92747,0.89839,0.86572,0.83503,0.79598,0.77531,0.73271} ,{ 0.93532,0.93889,0.93711,0.93147,0.91193,0.89927,0.87182} ,{ 0.93477,0.94163,0.94619,0.94593,0.93144,0.92111,0.89826} ,{ 0.93601,0.94502,0.96127,0.96861,0.96285,0.95697,0.94318} ,{ 0.93153,0.95853,0.97618,0.98702,0.99097,0.99121,0.99063} ,{ 0.91248,0.96861,0.98973,1,1.0049,1.0059,1.0071} ,{ 0.89598,0.96781,0.99074,1.0046,1.0089,1.0087,1.0067} ,{ 0.87761,0.95496,0.98227,1.0051,1.0097,1.0076,1.0005} ,{ 0.83305,0.91721,0.95585,0.99457,1.006,1.0049,0.99856} ,{ 0.77843,0.87144,0.92311,0.97646,0.99875,1.002,1.0036} ,{ 0.73636,0.82166,0.8872,0.95455,0.98975,0.99889,1.0122} } } ) 
	TURBOJET.Burner burner (VOL = 1,GLP = 0,CX = { 99.7,-0.004568246,0.000300007,-8.73718e-06,3.97923e-08,-5.46974e-11} ) 
	TURBOJET.Compressor compressor (I = 10,ND = 10000,CG1 = 1,CG2 = 1,CG4 = 1,F1 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.268984,0.274445,0.2821,0.29878,0.300624,0.306971,0.317768,0.317768,0.317768,0.320827} ,{ 0.359459,0.384362,0.419562,0.433043,0.444121,0.466246,0.468742,0.486873,0.493832,0.55022} ,{ 0.430983,0.432107,0.475888,0.496047,0.517361,0.53159,0.545196,0.563795,0.587917,0.62992} ,{ 0.53365,0.549752,0.577993,0.603177,0.613194,0.627268,0.639282,0.649954,0.663279,0.68868} ,{ 0.669395,0.690803,0.71842,0.741949,0.752184,0.762513,0.771813,0.781892,0.810383,0.833007} ,{ 0.73499,0.752091,0.779052,0.799867,0.813566,0.823365,0.839654,0.859657,0.887898,0.907995} ,{ 0.812099,0.825299,0.851325,0.872919,0.884903,0.899819,0.928809,0.958642,0.984667,1.01157} ,{ 0.847143,0.853915,0.879005,0.900849,0.912301,0.927467,0.962386,1.00208,1.02661,1.0458} ,{ 0.884403,0.897541,0.917232,0.938358,0.950435,0.964789,0.997462,1.05138,1.08668,1.1} ,{ 0.982233,0.995402,1.00891,1.03082,1.03925,1.05373,1.09501,1.15215,1.21185,1.22807} } } ,F2 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.592728,0.691765,0.73733,0.768695,0.787248,0.815484,0.829496,0.829496,0.829496,0.821602} ,{ 0.627116,0.777437,0.811719,0.839002,0.841732,0.85605,0.859838,0.859544,0.847438,0.827249} ,{ 0.698976,0.840826,0.859191,0.877532,0.879803,0.889015,0.887062,0.882838,0.874062,0.852826} ,{ 0.852955,0.902368,0.929427,0.940016,0.944498,0.945628,0.947133,0.947075,0.942992,0.922368} ,{ 0.963228,0.973746,0.985487,0.991946,0.992828,0.993393,0.993017,0.992134,0.985299,0.976263} ,{ 0.986287,0.992958,1.00232,1.00752,1.00849,1.00808,1.00802,1.00581,0.996323,0.97904} ,{ 0.998381,1.004,1.0093,1.01343,1.0139,1.01406,1.01126,1.00063,0.986052,0.965546} ,{ 0.999123,1.00464,1.00886,1.0129,1.01389,1.01491,1.01089,0.993593,0.978899,0.959898} ,{ 0.997781,1.00249,1.00484,1.00896,1.01051,1.01145,1.00863,0.988464,0.966016,0.954628} ,{ 0.986534,0.988887,0.992417,0.995523,0.998299,0.998299,0.99124,0.968887,0.92771,0.915945} } } ,F3 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.26193,0.261375,0.26082,0.25971,0.2586,0.255271,0.254161,0.250831,0.247501,0.245282} ,{ 0.317978,0.317423,0.315759,0.314649,0.312984,0.310764,0.309654,0.305215,0.301885,0.294116} ,{ 0.377357,0.377357,0.376247,0.374027,0.372917,0.370697,0.365148,0.359599,0.352939,0.337401} ,{ 0.495003,0.493893,0.491119,0.488344,0.487234,0.485014,0.482795,0.480575,0.478355,0.458377} ,{ 0.682572,0.680352,0.677022,0.671473,0.669253,0.664814,0.662594,0.658154,0.648165,0.632627} ,{ 0.766922,0.764702,0.761372,0.758043,0.755268,0.752493,0.748054,0.738065,0.724192,0.69811} ,{ 0.856822,0.855157,0.852382,0.849052,0.845723,0.841283,0.82963,0.811317,0.789119,0.754713} ,{ 0.893447,0.891782,0.889008,0.883458,0.881239,0.876799,0.861261,0.839064,0.816866,0.7869} ,{ 0.936732,0.935622,0.933403,0.927909,0.924557,0.920251,0.905656,0.876799,0.852382,0.844613} ,{ 1.04439,1.04328,1.04106,1.03604,1.03218,1.02648,1.00887,0.981127,0.952271,0.946721} } } ) 
	TURBOJET.Fan fan (I = 10,ND = 10000,CG1 = 1,CG2 = 1,CG4 = 1,F1 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.268984,0.274445,0.2821,0.29878,0.300624,0.306971,0.317768,0.317768,0.317768,0.320827} ,{ 0.359459,0.384362,0.419562,0.433043,0.444121,0.466246,0.468742,0.486873,0.493832,0.55022} ,{ 0.430983,0.432107,0.475888,0.496047,0.517361,0.53159,0.545196,0.563795,0.587917,0.62992} ,{ 0.53365,0.549752,0.577993,0.603177,0.613194,0.627268,0.639282,0.649954,0.663279,0.68868} ,{ 0.669395,0.690803,0.71842,0.741949,0.752184,0.762513,0.771813,0.781892,0.810383,0.833007} ,{ 0.73499,0.752091,0.779052,0.799867,0.813566,0.823365,0.839654,0.859657,0.887898,0.907995} ,{ 0.812099,0.825299,0.851325,0.872919,0.884903,0.899819,0.928809,0.958642,0.984667,1.01157} ,{ 0.847143,0.853915,0.879005,0.900849,0.912301,0.927467,0.962386,1.00208,1.02661,1.0458} ,{ 0.884403,0.897541,0.917232,0.938358,0.950435,0.964789,0.997462,1.05138,1.08668,1.1} ,{ 0.982233,0.995402,1.00891,1.03082,1.03925,1.05373,1.09501,1.15215,1.21185,1.22807} } } ,F2 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.592728,0.691765,0.73733,0.768695,0.787248,0.815484,0.829496,0.829496,0.829496,0.821602} ,{ 0.627116,0.777437,0.811719,0.839002,0.841732,0.85605,0.859838,0.859544,0.847438,0.827249} ,{ 0.698976,0.840826,0.859191,0.877532,0.879803,0.889015,0.887062,0.882838,0.874062,0.852826} ,{ 0.852955,0.902368,0.929427,0.940016,0.944498,0.945628,0.947133,0.947075,0.942992,0.922368} ,{ 0.963228,0.973746,0.985487,0.991946,0.992828,0.993393,0.993017,0.992134,0.985299,0.976263} ,{ 0.986287,0.992958,1.00232,1.00752,1.00849,1.00808,1.00802,1.00581,0.996323,0.97904} ,{ 0.998381,1.004,1.0093,1.01343,1.0139,1.01406,1.01126,1.00063,0.986052,0.965546} ,{ 0.999123,1.00464,1.00886,1.0129,1.01389,1.01491,1.01089,0.993593,0.978899,0.959898} ,{ 0.997781,1.00249,1.00484,1.00896,1.01051,1.01145,1.00863,0.988464,0.966016,0.954628} ,{ 0.986534,0.988887,0.992417,0.995523,0.998299,0.998299,0.99124,0.968887,0.92771,0.915945} } } ,F3 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.26193,0.261375,0.26082,0.25971,0.2586,0.255271,0.254161,0.250831,0.247501,0.245282} ,{ 0.317978,0.317423,0.315759,0.314649,0.312984,0.310764,0.309654,0.305215,0.301885,0.294116} ,{ 0.377357,0.377357,0.376247,0.374027,0.372917,0.370697,0.365148,0.359599,0.352939,0.337401} ,{ 0.495003,0.493893,0.491119,0.488344,0.487234,0.485014,0.482795,0.480575,0.478355,0.458377} ,{ 0.682572,0.680352,0.677022,0.671473,0.669253,0.664814,0.662594,0.658154,0.648165,0.632627} ,{ 0.766922,0.764702,0.761372,0.758043,0.755268,0.752493,0.748054,0.738065,0.724192,0.69811} ,{ 0.856822,0.855157,0.852382,0.849052,0.845723,0.841283,0.82963,0.811317,0.789119,0.754713} ,{ 0.893447,0.891782,0.889008,0.883458,0.881239,0.876799,0.861261,0.839064,0.816866,0.7869} ,{ 0.936732,0.935622,0.933403,0.927909,0.924557,0.920251,0.905656,0.876799,0.852382,0.844613} ,{ 1.04439,1.04328,1.04106,1.03604,1.03218,1.02648,1.00887,0.981127,0.952271,0.946721} } } ,DH_ratio = 0.9,EPD_ratio = 0.9) 
	TURBOJET.FuelValve fuel_valve (k = 1) 
	TURBOJET.Fuelmeter fuelmeter
	TURBOJET.Turbine hp_turbine (I = 10,CG1 = 1,CG2 = 1,CG3 = 1,CG4 = 1,G1 = { { 0.3125,0.5,0.5625,0.6875,0.875,1,1.0625,1.125,1.25,1.375,1.5} ,{ 0.53839,0.8,0.90001,1,1.1,1.1478,1.2434} ,{ { 0.89607,0.90741,0.91421,0.92593,0.9394,0.94603,0.95171} ,{ 0.97399,0.97222,0.96964,0.96953,0.97082,0.97177,0.97389} ,{ 0.985,0.98338,0.9801,0.97852,0.97871,0.97922,0.9805} ,{ 1.0001,0.99883,0.99531,0.99168,0.99027,0.99013,0.99019} ,{ 1.0054,1.0048,1.0039,0.9993,0.99707,0.99657,0.99592} ,{ 1.0064,1.006,1.0047,1,0.99789,0.9975,0.99711} ,{ 1.0067,1.006,1.0047,1.0005,0.99836,0.99785,0.99717} ,{ 1.0068,1.006,1.0047,1.0006,0.99859,0.99814,0.99758} ,{ 1.0068,1.006,1.0047,1.0006,0.99859,0.99814,0.99757} ,{ 1.0067,1.006,1.0047,1.0004,0.99828,0.99776,0.99703} ,{ 1.0066,1.006,1.0047,1.0002,0.99782,0.99718,0.99622} } } ,G2 = { { 0.3125,0.5,0.5625,0.6875,0.875,1,1.0625,1.125,1.25,1.375,1.5} ,{ 0.53839,0.8,0.90001,1,1.1,1.1478,1.2434} ,{ { 0.92747,0.89839,0.86572,0.83503,0.79598,0.77531,0.73271} ,{ 0.93532,0.93889,0.93711,0.93147,0.91193,0.89927,0.87182} ,{ 0.93477,0.94163,0.94619,0.94593,0.93144,0.92111,0.89826} ,{ 0.93601,0.94502,0.96127,0.96861,0.96285,0.95697,0.94318} ,{ 0.93153,0.95853,0.97618,0.98702,0.99097,0.99121,0.99063} ,{ 0.91248,0.96861,0.98973,1,1.0049,1.0059,1.0071} ,{ 0.89598,0.96781,0.99074,1.0046,1.0089,1.0087,1.0067} ,{ 0.87761,0.95496,0.98227,1.0051,1.0097,1.0076,1.0005} ,{ 0.83305,0.91721,0.95585,0.99457,1.006,1.0049,0.99856} ,{ 0.77843,0.87144,0.92311,0.97646,0.99875,1.002,1.0036} ,{ 0.73636,0.82166,0.8872,0.95455,0.98975,0.99889,1.0122} } } ) 
	TURBOJET.SplitFrac split2 (k = 0.03) 
	TURBOJET.SplitFrac split1 (k = 0.04) 
	TURBOJET.Nozzle nozzle_sec (A_exit = 1) 
	TURBOJET.Nozzle nozzle (A_exit = 1) 
	TURBOJET.Monitor monitor
	TURBOJET.ShaftEnd sh_end_hp_tur
	TURBOJET.ShaftEnd sh_end_lp_tur
	TURBOJET.ShaftEnd sh_end_fan
	TURBOJET.ShaftEnd sh_end_comp
	TURBOJET.FuelTank fuel_tank (FHV = 43200,X = { 0.25,0.75,0} ) 

		-----------------------------------------------------------
		-- Coded in TURBOJET_EXAMPLES.turbofan
		-----------------------------------------------------------
	CONNECT nozzle_sec.thrust TO monitor.thrust
	CONNECT fan.g_out TO nozzle_sec.g_in
	CONNECT nozzle.thrust TO monitor.thrust
	CONNECT lp_turbine.g_out TO nozzle.g_in
	CONNECT split1.g_out TO split2.g_in
	CONNECT lp_turbine.sh_in TO sh_end_lp_tur.sh_in
	CONNECT split2.g_branch TO lp_turbine.g_in
	CONNECT inlet.thrust TO monitor.thrust
	CONNECT hp_turbine.sh_in TO sh_end_hp_tur.sh_in
	CONNECT hp_turbine.g_out TO lp_turbine.g_in
	CONNECT split1.g_branch TO hp_turbine.g_in
	CONNECT fuelmeter.s_out TO monitor.s_fuel
	CONNECT fuelmeter.f_out TO fuel_valve.f_in
	CONNECT fan.sh_out TO sh_end_fan.sh_in
	CONNECT lp_turbine.sh_out TO fan.sh_in
	CONNECT inlet.g_out TO fan.g_in
	CONNECT compressor.sh_out TO sh_end_comp.sh_in
	CONNECT hp_turbine.sh_out TO compressor.sh_in
	CONNECT compressor.g_out TO split1.g_in
	CONNECT fan.g_pr TO compressor.g_in
	CONNECT burner.g_out TO hp_turbine.g_in
	CONNECT split2.g_out TO burner.g_in
	CONNECT fuel_valve.f_out TO burner.f_in
	CONNECT fuel_tank.f_out TO fuelmeter.f_in
END COMPONENT

COMPONENT turbofan_mixer
"Turbofan with mixer example"
TOPOLOGY

		-----------------------------------------------------------
		-- Coded in TURBOJET_EXAMPLES.turbofan_mixer
		-----------------------------------------------------------
	TURBOJET.Inlet inlet (dTamb = 0,Rhum = 30,ERAM = FromData,zeram = 0.99,eramxx = { { 0,12.5,25,30} ,{ 1,0.99,0.98,0.97} } ) 
	TURBOJET.Turbine lp_turbine (I = 10,CG1 = 1,CG2 = 1,CG3 = 1,CG4 = 1,G1 = { { 0.3125,0.5,0.5625,0.6875,0.875,1,1.0625,1.125,1.25,1.375,1.5} ,{ 0.53839,0.8,0.90001,1,1.1,1.1478,1.2434} ,{ { 0.89607,0.90741,0.91421,0.92593,0.9394,0.94603,0.95171} ,{ 0.97399,0.97222,0.96964,0.96953,0.97082,0.97177,0.97389} ,{ 0.985,0.98338,0.9801,0.97852,0.97871,0.97922,0.9805} ,{ 1.0001,0.99883,0.99531,0.99168,0.99027,0.99013,0.99019} ,{ 1.0054,1.0048,1.0039,0.9993,0.99707,0.99657,0.99592} ,{ 1.0064,1.006,1.0047,1,0.99789,0.9975,0.99711} ,{ 1.0067,1.006,1.0047,1.0005,0.99836,0.99785,0.99717} ,{ 1.0068,1.006,1.0047,1.0006,0.99859,0.99814,0.99758} ,{ 1.0068,1.006,1.0047,1.0006,0.99859,0.99814,0.99757} ,{ 1.0067,1.006,1.0047,1.0004,0.99828,0.99776,0.99703} ,{ 1.0066,1.006,1.0047,1.0002,0.99782,0.99718,0.99622} } } ,G2 = { { 0.3125,0.5,0.5625,0.6875,0.875,1,1.0625,1.125,1.25,1.375,1.5} ,{ 0.53839,0.8,0.90001,1,1.1,1.1478,1.2434} ,{ { 0.92747,0.89839,0.86572,0.83503,0.79598,0.77531,0.73271} ,{ 0.93532,0.93889,0.93711,0.93147,0.91193,0.89927,0.87182} ,{ 0.93477,0.94163,0.94619,0.94593,0.93144,0.92111,0.89826} ,{ 0.93601,0.94502,0.96127,0.96861,0.96285,0.95697,0.94318} ,{ 0.93153,0.95853,0.97618,0.98702,0.99097,0.99121,0.99063} ,{ 0.91248,0.96861,0.98973,1,1.0049,1.0059,1.0071} ,{ 0.89598,0.96781,0.99074,1.0046,1.0089,1.0087,1.0067} ,{ 0.87761,0.95496,0.98227,1.0051,1.0097,1.0076,1.0005} ,{ 0.83305,0.91721,0.95585,0.99457,1.006,1.0049,0.99856} ,{ 0.77843,0.87144,0.92311,0.97646,0.99875,1.002,1.0036} ,{ 0.73636,0.82166,0.8872,0.95455,0.98975,0.99889,1.0122} } } ) 
	TURBOJET.Burner burner (VOL = 1,GLP = 0,CX = { 99.7,-0.004568246,0.000300007,-8.73718e-06,3.97923e-08,-5.46974e-11} ) 
	TURBOJET.Compressor compressor (I = 10,ND = 10000,CG1 = 1,CG2 = 1,CG4 = 1,F1 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.268984,0.274445,0.2821,0.29878,0.300624,0.306971,0.317768,0.317768,0.317768,0.320827} ,{ 0.359459,0.384362,0.419562,0.433043,0.444121,0.466246,0.468742,0.486873,0.493832,0.55022} ,{ 0.430983,0.432107,0.475888,0.496047,0.517361,0.53159,0.545196,0.563795,0.587917,0.62992} ,{ 0.53365,0.549752,0.577993,0.603177,0.613194,0.627268,0.639282,0.649954,0.663279,0.68868} ,{ 0.669395,0.690803,0.71842,0.741949,0.752184,0.762513,0.771813,0.781892,0.810383,0.833007} ,{ 0.73499,0.752091,0.779052,0.799867,0.813566,0.823365,0.839654,0.859657,0.887898,0.907995} ,{ 0.812099,0.825299,0.851325,0.872919,0.884903,0.899819,0.928809,0.958642,0.984667,1.01157} ,{ 0.847143,0.853915,0.879005,0.900849,0.912301,0.927467,0.962386,1.00208,1.02661,1.0458} ,{ 0.884403,0.897541,0.917232,0.938358,0.950435,0.964789,0.997462,1.05138,1.08668,1.1} ,{ 0.982233,0.995402,1.00891,1.03082,1.03925,1.05373,1.09501,1.15215,1.21185,1.22807} } } ,F2 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.592728,0.691765,0.73733,0.768695,0.787248,0.815484,0.829496,0.829496,0.829496,0.821602} ,{ 0.627116,0.777437,0.811719,0.839002,0.841732,0.85605,0.859838,0.859544,0.847438,0.827249} ,{ 0.698976,0.840826,0.859191,0.877532,0.879803,0.889015,0.887062,0.882838,0.874062,0.852826} ,{ 0.852955,0.902368,0.929427,0.940016,0.944498,0.945628,0.947133,0.947075,0.942992,0.922368} ,{ 0.963228,0.973746,0.985487,0.991946,0.992828,0.993393,0.993017,0.992134,0.985299,0.976263} ,{ 0.986287,0.992958,1.00232,1.00752,1.00849,1.00808,1.00802,1.00581,0.996323,0.97904} ,{ 0.998381,1.004,1.0093,1.01343,1.0139,1.01406,1.01126,1.00063,0.986052,0.965546} ,{ 0.999123,1.00464,1.00886,1.0129,1.01389,1.01491,1.01089,0.993593,0.978899,0.959898} ,{ 0.997781,1.00249,1.00484,1.00896,1.01051,1.01145,1.00863,0.988464,0.966016,0.954628} ,{ 0.986534,0.988887,0.992417,0.995523,0.998299,0.998299,0.99124,0.968887,0.92771,0.915945} } } ,F3 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.26193,0.261375,0.26082,0.25971,0.2586,0.255271,0.254161,0.250831,0.247501,0.245282} ,{ 0.317978,0.317423,0.315759,0.314649,0.312984,0.310764,0.309654,0.305215,0.301885,0.294116} ,{ 0.377357,0.377357,0.376247,0.374027,0.372917,0.370697,0.365148,0.359599,0.352939,0.337401} ,{ 0.495003,0.493893,0.491119,0.488344,0.487234,0.485014,0.482795,0.480575,0.478355,0.458377} ,{ 0.682572,0.680352,0.677022,0.671473,0.669253,0.664814,0.662594,0.658154,0.648165,0.632627} ,{ 0.766922,0.764702,0.761372,0.758043,0.755268,0.752493,0.748054,0.738065,0.724192,0.69811} ,{ 0.856822,0.855157,0.852382,0.849052,0.845723,0.841283,0.82963,0.811317,0.789119,0.754713} ,{ 0.893447,0.891782,0.889008,0.883458,0.881239,0.876799,0.861261,0.839064,0.816866,0.7869} ,{ 0.936732,0.935622,0.933403,0.927909,0.924557,0.920251,0.905656,0.876799,0.852382,0.844613} ,{ 1.04439,1.04328,1.04106,1.03604,1.03218,1.02648,1.00887,0.981127,0.952271,0.946721} } } ) 
	TURBOJET.Fan fan (I = 10,ND = 10000,CG1 = 1,CG2 = 1,CG4 = 1,F1 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.268984,0.274445,0.2821,0.29878,0.300624,0.306971,0.317768,0.317768,0.317768,0.320827} ,{ 0.359459,0.384362,0.419562,0.433043,0.444121,0.466246,0.468742,0.486873,0.493832,0.55022} ,{ 0.430983,0.432107,0.475888,0.496047,0.517361,0.53159,0.545196,0.563795,0.587917,0.62992} ,{ 0.53365,0.549752,0.577993,0.603177,0.613194,0.627268,0.639282,0.649954,0.663279,0.68868} ,{ 0.669395,0.690803,0.71842,0.741949,0.752184,0.762513,0.771813,0.781892,0.810383,0.833007} ,{ 0.73499,0.752091,0.779052,0.799867,0.813566,0.823365,0.839654,0.859657,0.887898,0.907995} ,{ 0.812099,0.825299,0.851325,0.872919,0.884903,0.899819,0.928809,0.958642,0.984667,1.01157} ,{ 0.847143,0.853915,0.879005,0.900849,0.912301,0.927467,0.962386,1.00208,1.02661,1.0458} ,{ 0.884403,0.897541,0.917232,0.938358,0.950435,0.964789,0.997462,1.05138,1.08668,1.1} ,{ 0.982233,0.995402,1.00891,1.03082,1.03925,1.05373,1.09501,1.15215,1.21185,1.22807} } } ,F2 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.592728,0.691765,0.73733,0.768695,0.787248,0.815484,0.829496,0.829496,0.829496,0.821602} ,{ 0.627116,0.777437,0.811719,0.839002,0.841732,0.85605,0.859838,0.859544,0.847438,0.827249} ,{ 0.698976,0.840826,0.859191,0.877532,0.879803,0.889015,0.887062,0.882838,0.874062,0.852826} ,{ 0.852955,0.902368,0.929427,0.940016,0.944498,0.945628,0.947133,0.947075,0.942992,0.922368} ,{ 0.963228,0.973746,0.985487,0.991946,0.992828,0.993393,0.993017,0.992134,0.985299,0.976263} ,{ 0.986287,0.992958,1.00232,1.00752,1.00849,1.00808,1.00802,1.00581,0.996323,0.97904} ,{ 0.998381,1.004,1.0093,1.01343,1.0139,1.01406,1.01126,1.00063,0.986052,0.965546} ,{ 0.999123,1.00464,1.00886,1.0129,1.01389,1.01491,1.01089,0.993593,0.978899,0.959898} ,{ 0.997781,1.00249,1.00484,1.00896,1.01051,1.01145,1.00863,0.988464,0.966016,0.954628} ,{ 0.986534,0.988887,0.992417,0.995523,0.998299,0.998299,0.99124,0.968887,0.92771,0.915945} } } ,F3 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.26193,0.261375,0.26082,0.25971,0.2586,0.255271,0.254161,0.250831,0.247501,0.245282} ,{ 0.317978,0.317423,0.315759,0.314649,0.312984,0.310764,0.309654,0.305215,0.301885,0.294116} ,{ 0.377357,0.377357,0.376247,0.374027,0.372917,0.370697,0.365148,0.359599,0.352939,0.337401} ,{ 0.495003,0.493893,0.491119,0.488344,0.487234,0.485014,0.482795,0.480575,0.478355,0.458377} ,{ 0.682572,0.680352,0.677022,0.671473,0.669253,0.664814,0.662594,0.658154,0.648165,0.632627} ,{ 0.766922,0.764702,0.761372,0.758043,0.755268,0.752493,0.748054,0.738065,0.724192,0.69811} ,{ 0.856822,0.855157,0.852382,0.849052,0.845723,0.841283,0.82963,0.811317,0.789119,0.754713} ,{ 0.893447,0.891782,0.889008,0.883458,0.881239,0.876799,0.861261,0.839064,0.816866,0.7869} ,{ 0.936732,0.935622,0.933403,0.927909,0.924557,0.920251,0.905656,0.876799,0.852382,0.844613} ,{ 1.04439,1.04328,1.04106,1.03604,1.03218,1.02648,1.00887,0.981127,0.952271,0.946721} } } ,DH_ratio = 0.9,EPD_ratio = 0.9) 
	TURBOJET.FuelValve fuel_valve (k = 1) 
	TURBOJET.Fuelmeter fuelmeter
	TURBOJET.Turbine hp_turbine (I = 10,CG1 = 1,CG2 = 1,CG3 = 1,CG4 = 1,G1 = { { 0.3125,0.5,0.5625,0.6875,0.875,1,1.0625,1.125,1.25,1.375,1.5} ,{ 0.53839,0.8,0.90001,1,1.1,1.1478,1.2434} ,{ { 0.89607,0.90741,0.91421,0.92593,0.9394,0.94603,0.95171} ,{ 0.97399,0.97222,0.96964,0.96953,0.97082,0.97177,0.97389} ,{ 0.985,0.98338,0.9801,0.97852,0.97871,0.97922,0.9805} ,{ 1.0001,0.99883,0.99531,0.99168,0.99027,0.99013,0.99019} ,{ 1.0054,1.0048,1.0039,0.9993,0.99707,0.99657,0.99592} ,{ 1.0064,1.006,1.0047,1,0.99789,0.9975,0.99711} ,{ 1.0067,1.006,1.0047,1.0005,0.99836,0.99785,0.99717} ,{ 1.0068,1.006,1.0047,1.0006,0.99859,0.99814,0.99758} ,{ 1.0068,1.006,1.0047,1.0006,0.99859,0.99814,0.99757} ,{ 1.0067,1.006,1.0047,1.0004,0.99828,0.99776,0.99703} ,{ 1.0066,1.006,1.0047,1.0002,0.99782,0.99718,0.99622} } } ,G2 = { { 0.3125,0.5,0.5625,0.6875,0.875,1,1.0625,1.125,1.25,1.375,1.5} ,{ 0.53839,0.8,0.90001,1,1.1,1.1478,1.2434} ,{ { 0.92747,0.89839,0.86572,0.83503,0.79598,0.77531,0.73271} ,{ 0.93532,0.93889,0.93711,0.93147,0.91193,0.89927,0.87182} ,{ 0.93477,0.94163,0.94619,0.94593,0.93144,0.92111,0.89826} ,{ 0.93601,0.94502,0.96127,0.96861,0.96285,0.95697,0.94318} ,{ 0.93153,0.95853,0.97618,0.98702,0.99097,0.99121,0.99063} ,{ 0.91248,0.96861,0.98973,1,1.0049,1.0059,1.0071} ,{ 0.89598,0.96781,0.99074,1.0046,1.0089,1.0087,1.0067} ,{ 0.87761,0.95496,0.98227,1.0051,1.0097,1.0076,1.0005} ,{ 0.83305,0.91721,0.95585,0.99457,1.006,1.0049,0.99856} ,{ 0.77843,0.87144,0.92311,0.97646,0.99875,1.002,1.0036} ,{ 0.73636,0.82166,0.8872,0.95455,0.98975,0.99889,1.0122} } } ) 
	TURBOJET.SplitFrac split2 (k = 0.03) 
	TURBOJET.SplitFrac split1 (k = 0.04) 
	TURBOJET.Mixer mixer (A1 = 1,A2 = 2) 
	TURBOJET.Nozzle nozzle (A_exit = 1) 
	TURBOJET.Monitor monitor
	TURBOJET.ShaftEnd sh_end_hp_tur
	TURBOJET.ShaftEnd sh_end_lp_tur
	TURBOJET.ShaftEnd sh_end_fan
	TURBOJET.ShaftEnd sh_end_comp
	TURBOJET.FuelTank fuel_tank (FHV = 43200,X = { 0.25,0.75,0} ) 

		-----------------------------------------------------------
		-- Coded in TURBOJET_EXAMPLES.turbofan_mixer
		-----------------------------------------------------------
	CONNECT fuel_valve.f_out TO burner.f_in
	CONNECT split2.g_out TO burner.g_in
	CONNECT burner.g_out TO hp_turbine.g_in
	CONNECT fan.g_pr TO compressor.g_in
	CONNECT compressor.g_out TO split1.g_in
	CONNECT hp_turbine.sh_out TO compressor.sh_in
	CONNECT compressor.sh_out TO sh_end_comp.sh_in
	CONNECT inlet.g_out TO fan.g_in
	CONNECT lp_turbine.sh_out TO fan.sh_in
	CONNECT fan.sh_out TO sh_end_fan.sh_in
	CONNECT fuelmeter.f_out TO fuel_valve.f_in
	CONNECT fuelmeter.s_out TO monitor.s_fuel
	CONNECT split1.g_branch TO hp_turbine.g_in
	CONNECT hp_turbine.g_out TO lp_turbine.g_in
	CONNECT hp_turbine.sh_in TO sh_end_hp_tur.sh_in
	CONNECT inlet.thrust TO monitor.thrust
	CONNECT split2.g_branch TO lp_turbine.g_in
	CONNECT lp_turbine.sh_in TO sh_end_lp_tur.sh_in
	CONNECT nozzle.thrust TO monitor.thrust
	CONNECT split1.g_out TO split2.g_in
	CONNECT lp_turbine.g_out TO mixer.g_in1
	CONNECT fan.g_out TO mixer.g_in2
	CONNECT mixer.g_out TO nozzle.g_in
	CONNECT fuel_tank.f_out TO fuelmeter.f_in
END COMPONENT

COMPONENT turbofan_mixer_afterburner
"Turbofan with mixer and afterburner example"
TOPOLOGY

		-----------------------------------------------------------
		-- Coded in TURBOJET_EXAMPLES.turbofan_mixer_afterburner
		-----------------------------------------------------------
	TURBOJET.Inlet inlet (dTamb = 0,Rhum = 30,ERAM = FromData,zeram = 0.99,eramxx = { { 0,12.5,25,30} ,{ 1,0.99,0.98,0.97} } ) 
	TURBOJET.AfterBurner afterburner (A = 1,Cd = 0.1,eta = 0.98) 
	TURBOJET.Burner burner (VOL = 1,GLP = 0,CX = { 99.7,-0.004568246,0.000300007,-8.73718e-06,3.97923e-08,-5.46974e-11} ) 
	TURBOJET.Compressor compressor (I = 10,ND = 10000,CG1 = 1,CG2 = 1,CG4 = 1,F1 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.268984,0.274445,0.2821,0.29878,0.300624,0.306971,0.317768,0.317768,0.317768,0.320827} ,{ 0.359459,0.384362,0.419562,0.433043,0.444121,0.466246,0.468742,0.486873,0.493832,0.55022} ,{ 0.430983,0.432107,0.475888,0.496047,0.517361,0.53159,0.545196,0.563795,0.587917,0.62992} ,{ 0.53365,0.549752,0.577993,0.603177,0.613194,0.627268,0.639282,0.649954,0.663279,0.68868} ,{ 0.669395,0.690803,0.71842,0.741949,0.752184,0.762513,0.771813,0.781892,0.810383,0.833007} ,{ 0.73499,0.752091,0.779052,0.799867,0.813566,0.823365,0.839654,0.859657,0.887898,0.907995} ,{ 0.812099,0.825299,0.851325,0.872919,0.884903,0.899819,0.928809,0.958642,0.984667,1.01157} ,{ 0.847143,0.853915,0.879005,0.900849,0.912301,0.927467,0.962386,1.00208,1.02661,1.0458} ,{ 0.884403,0.897541,0.917232,0.938358,0.950435,0.964789,0.997462,1.05138,1.08668,1.1} ,{ 0.982233,0.995402,1.00891,1.03082,1.03925,1.05373,1.09501,1.15215,1.21185,1.22807} } } ,F2 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.592728,0.691765,0.73733,0.768695,0.787248,0.815484,0.829496,0.829496,0.829496,0.821602} ,{ 0.627116,0.777437,0.811719,0.839002,0.841732,0.85605,0.859838,0.859544,0.847438,0.827249} ,{ 0.698976,0.840826,0.859191,0.877532,0.879803,0.889015,0.887062,0.882838,0.874062,0.852826} ,{ 0.852955,0.902368,0.929427,0.940016,0.944498,0.945628,0.947133,0.947075,0.942992,0.922368} ,{ 0.963228,0.973746,0.985487,0.991946,0.992828,0.993393,0.993017,0.992134,0.985299,0.976263} ,{ 0.986287,0.992958,1.00232,1.00752,1.00849,1.00808,1.00802,1.00581,0.996323,0.97904} ,{ 0.998381,1.004,1.0093,1.01343,1.0139,1.01406,1.01126,1.00063,0.986052,0.965546} ,{ 0.999123,1.00464,1.00886,1.0129,1.01389,1.01491,1.01089,0.993593,0.978899,0.959898} ,{ 0.997781,1.00249,1.00484,1.00896,1.01051,1.01145,1.00863,0.988464,0.966016,0.954628} ,{ 0.986534,0.988887,0.992417,0.995523,0.998299,0.998299,0.99124,0.968887,0.92771,0.915945} } } ,F3 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.26193,0.261375,0.26082,0.25971,0.2586,0.255271,0.254161,0.250831,0.247501,0.245282} ,{ 0.317978,0.317423,0.315759,0.314649,0.312984,0.310764,0.309654,0.305215,0.301885,0.294116} ,{ 0.377357,0.377357,0.376247,0.374027,0.372917,0.370697,0.365148,0.359599,0.352939,0.337401} ,{ 0.495003,0.493893,0.491119,0.488344,0.487234,0.485014,0.482795,0.480575,0.478355,0.458377} ,{ 0.682572,0.680352,0.677022,0.671473,0.669253,0.664814,0.662594,0.658154,0.648165,0.632627} ,{ 0.766922,0.764702,0.761372,0.758043,0.755268,0.752493,0.748054,0.738065,0.724192,0.69811} ,{ 0.856822,0.855157,0.852382,0.849052,0.845723,0.841283,0.82963,0.811317,0.789119,0.754713} ,{ 0.893447,0.891782,0.889008,0.883458,0.881239,0.876799,0.861261,0.839064,0.816866,0.7869} ,{ 0.936732,0.935622,0.933403,0.927909,0.924557,0.920251,0.905656,0.876799,0.852382,0.844613} ,{ 1.04439,1.04328,1.04106,1.03604,1.03218,1.02648,1.00887,0.981127,0.952271,0.946721} } } ) 
	TURBOJET.Fan fan (I = 10,ND = 10000,CG1 = 1,CG2 = 1,CG4 = 1,F1 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.268984,0.274445,0.2821,0.29878,0.300624,0.306971,0.317768,0.317768,0.317768,0.320827} ,{ 0.359459,0.384362,0.419562,0.433043,0.444121,0.466246,0.468742,0.486873,0.493832,0.55022} ,{ 0.430983,0.432107,0.475888,0.496047,0.517361,0.53159,0.545196,0.563795,0.587917,0.62992} ,{ 0.53365,0.549752,0.577993,0.603177,0.613194,0.627268,0.639282,0.649954,0.663279,0.68868} ,{ 0.669395,0.690803,0.71842,0.741949,0.752184,0.762513,0.771813,0.781892,0.810383,0.833007} ,{ 0.73499,0.752091,0.779052,0.799867,0.813566,0.823365,0.839654,0.859657,0.887898,0.907995} ,{ 0.812099,0.825299,0.851325,0.872919,0.884903,0.899819,0.928809,0.958642,0.984667,1.01157} ,{ 0.847143,0.853915,0.879005,0.900849,0.912301,0.927467,0.962386,1.00208,1.02661,1.0458} ,{ 0.884403,0.897541,0.917232,0.938358,0.950435,0.964789,0.997462,1.05138,1.08668,1.1} ,{ 0.982233,0.995402,1.00891,1.03082,1.03925,1.05373,1.09501,1.15215,1.21185,1.22807} } } ,F2 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.592728,0.691765,0.73733,0.768695,0.787248,0.815484,0.829496,0.829496,0.829496,0.821602} ,{ 0.627116,0.777437,0.811719,0.839002,0.841732,0.85605,0.859838,0.859544,0.847438,0.827249} ,{ 0.698976,0.840826,0.859191,0.877532,0.879803,0.889015,0.887062,0.882838,0.874062,0.852826} ,{ 0.852955,0.902368,0.929427,0.940016,0.944498,0.945628,0.947133,0.947075,0.942992,0.922368} ,{ 0.963228,0.973746,0.985487,0.991946,0.992828,0.993393,0.993017,0.992134,0.985299,0.976263} ,{ 0.986287,0.992958,1.00232,1.00752,1.00849,1.00808,1.00802,1.00581,0.996323,0.97904} ,{ 0.998381,1.004,1.0093,1.01343,1.0139,1.01406,1.01126,1.00063,0.986052,0.965546} ,{ 0.999123,1.00464,1.00886,1.0129,1.01389,1.01491,1.01089,0.993593,0.978899,0.959898} ,{ 0.997781,1.00249,1.00484,1.00896,1.01051,1.01145,1.00863,0.988464,0.966016,0.954628} ,{ 0.986534,0.988887,0.992417,0.995523,0.998299,0.998299,0.99124,0.968887,0.92771,0.915945} } } ,F3 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.26193,0.261375,0.26082,0.25971,0.2586,0.255271,0.254161,0.250831,0.247501,0.245282} ,{ 0.317978,0.317423,0.315759,0.314649,0.312984,0.310764,0.309654,0.305215,0.301885,0.294116} ,{ 0.377357,0.377357,0.376247,0.374027,0.372917,0.370697,0.365148,0.359599,0.352939,0.337401} ,{ 0.495003,0.493893,0.491119,0.488344,0.487234,0.485014,0.482795,0.480575,0.478355,0.458377} ,{ 0.682572,0.680352,0.677022,0.671473,0.669253,0.664814,0.662594,0.658154,0.648165,0.632627} ,{ 0.766922,0.764702,0.761372,0.758043,0.755268,0.752493,0.748054,0.738065,0.724192,0.69811} ,{ 0.856822,0.855157,0.852382,0.849052,0.845723,0.841283,0.82963,0.811317,0.789119,0.754713} ,{ 0.893447,0.891782,0.889008,0.883458,0.881239,0.876799,0.861261,0.839064,0.816866,0.7869} ,{ 0.936732,0.935622,0.933403,0.927909,0.924557,0.920251,0.905656,0.876799,0.852382,0.844613} ,{ 1.04439,1.04328,1.04106,1.03604,1.03218,1.02648,1.00887,0.981127,0.952271,0.946721} } } ,DH_ratio = 0.9,EPD_ratio = 0.9) 
	TURBOJET.FuelValve valve_afterburner (k = 1) 
	TURBOJET.Fuelmeter fuelmeter
	TURBOJET.FuelValve valve_burner (k = 1) 
	TURBOJET.Turbine lp_turbine (I = 10,CG1 = 1,CG2 = 1,CG3 = 1,CG4 = 1,G1 = { { 0.3125,0.5,0.5625,0.6875,0.875,1,1.0625,1.125,1.25,1.375,1.5} ,{ 0.53839,0.8,0.90001,1,1.1,1.1478,1.2434} ,{ { 0.89607,0.90741,0.91421,0.92593,0.9394,0.94603,0.95171} ,{ 0.97399,0.97222,0.96964,0.96953,0.97082,0.97177,0.97389} ,{ 0.985,0.98338,0.9801,0.97852,0.97871,0.97922,0.9805} ,{ 1.0001,0.99883,0.99531,0.99168,0.99027,0.99013,0.99019} ,{ 1.0054,1.0048,1.0039,0.9993,0.99707,0.99657,0.99592} ,{ 1.0064,1.006,1.0047,1,0.99789,0.9975,0.99711} ,{ 1.0067,1.006,1.0047,1.0005,0.99836,0.99785,0.99717} ,{ 1.0068,1.006,1.0047,1.0006,0.99859,0.99814,0.99758} ,{ 1.0068,1.006,1.0047,1.0006,0.99859,0.99814,0.99757} ,{ 1.0067,1.006,1.0047,1.0004,0.99828,0.99776,0.99703} ,{ 1.0066,1.006,1.0047,1.0002,0.99782,0.99718,0.99622} } } ,G2 = { { 0.3125,0.5,0.5625,0.6875,0.875,1,1.0625,1.125,1.25,1.375,1.5} ,{ 0.53839,0.8,0.90001,1,1.1,1.1478,1.2434} ,{ { 0.92747,0.89839,0.86572,0.83503,0.79598,0.77531,0.73271} ,{ 0.93532,0.93889,0.93711,0.93147,0.91193,0.89927,0.87182} ,{ 0.93477,0.94163,0.94619,0.94593,0.93144,0.92111,0.89826} ,{ 0.93601,0.94502,0.96127,0.96861,0.96285,0.95697,0.94318} ,{ 0.93153,0.95853,0.97618,0.98702,0.99097,0.99121,0.99063} ,{ 0.91248,0.96861,0.98973,1,1.0049,1.0059,1.0071} ,{ 0.89598,0.96781,0.99074,1.0046,1.0089,1.0087,1.0067} ,{ 0.87761,0.95496,0.98227,1.0051,1.0097,1.0076,1.0005} ,{ 0.83305,0.91721,0.95585,0.99457,1.006,1.0049,0.99856} ,{ 0.77843,0.87144,0.92311,0.97646,0.99875,1.002,1.0036} ,{ 0.73636,0.82166,0.8872,0.95455,0.98975,0.99889,1.0122} } } ) 
	TURBOJET.Turbine hp_turbine (I = 10,CG1 = 1,CG2 = 1,CG3 = 1,CG4 = 1,G1 = { { 0.3125,0.5,0.5625,0.6875,0.875,1,1.0625,1.125,1.25,1.375,1.5} ,{ 0.53839,0.8,0.90001,1,1.1,1.1478,1.2434} ,{ { 0.89607,0.90741,0.91421,0.92593,0.9394,0.94603,0.95171} ,{ 0.97399,0.97222,0.96964,0.96953,0.97082,0.97177,0.97389} ,{ 0.985,0.98338,0.9801,0.97852,0.97871,0.97922,0.9805} ,{ 1.0001,0.99883,0.99531,0.99168,0.99027,0.99013,0.99019} ,{ 1.0054,1.0048,1.0039,0.9993,0.99707,0.99657,0.99592} ,{ 1.0064,1.006,1.0047,1,0.99789,0.9975,0.99711} ,{ 1.0067,1.006,1.0047,1.0005,0.99836,0.99785,0.99717} ,{ 1.0068,1.006,1.0047,1.0006,0.99859,0.99814,0.99758} ,{ 1.0068,1.006,1.0047,1.0006,0.99859,0.99814,0.99757} ,{ 1.0067,1.006,1.0047,1.0004,0.99828,0.99776,0.99703} ,{ 1.0066,1.006,1.0047,1.0002,0.99782,0.99718,0.99622} } } ,G2 = { { 0.3125,0.5,0.5625,0.6875,0.875,1,1.0625,1.125,1.25,1.375,1.5} ,{ 0.53839,0.8,0.90001,1,1.1,1.1478,1.2434} ,{ { 0.92747,0.89839,0.86572,0.83503,0.79598,0.77531,0.73271} ,{ 0.93532,0.93889,0.93711,0.93147,0.91193,0.89927,0.87182} ,{ 0.93477,0.94163,0.94619,0.94593,0.93144,0.92111,0.89826} ,{ 0.93601,0.94502,0.96127,0.96861,0.96285,0.95697,0.94318} ,{ 0.93153,0.95853,0.97618,0.98702,0.99097,0.99121,0.99063} ,{ 0.91248,0.96861,0.98973,1,1.0049,1.0059,1.0071} ,{ 0.89598,0.96781,0.99074,1.0046,1.0089,1.0087,1.0067} ,{ 0.87761,0.95496,0.98227,1.0051,1.0097,1.0076,1.0005} ,{ 0.83305,0.91721,0.95585,0.99457,1.006,1.0049,0.99856} ,{ 0.77843,0.87144,0.92311,0.97646,0.99875,1.002,1.0036} ,{ 0.73636,0.82166,0.8872,0.95455,0.98975,0.99889,1.0122} } } ) 
	TURBOJET.SplitFrac split2 (k = 0.03) 
	TURBOJET.SplitFrac split1 (k = 0.04) 
	TURBOJET.Mixer mixer (A1 = 1,A2 = 2) 
	TURBOJET.Monitor monitor
	TURBOJET.Nozzle_Var nozzle (A_exit = 1) 
	TURBOJET.ShaftEnd sh_end_hp_tur
	TURBOJET.ShaftEnd sh_end_lp_tur
	TURBOJET.ShaftEnd sh_end_fan
	TURBOJET.ShaftEnd sh_end_comp
	TURBOJET.FuelTank fuel_tank (FHV = 43200,X = { 0.25,0.75,0} ) 

		-----------------------------------------------------------
		-- Coded in TURBOJET_EXAMPLES.turbofan_mixer_afterburner
		-----------------------------------------------------------
	CONNECT valve_afterburner.f_out TO afterburner.f_in
	CONNECT mixer.g_out TO afterburner.g_in
	CONNECT afterburner.g_out TO nozzle.g_in
	CONNECT valve_burner.f_out TO burner.f_in
	CONNECT split2.g_out TO burner.g_in
	CONNECT burner.g_out TO hp_turbine.g_in
	CONNECT fan.g_pr TO compressor.g_in
	CONNECT compressor.g_out TO split1.g_in
	CONNECT hp_turbine.sh_out TO compressor.sh_in
	CONNECT compressor.sh_out TO sh_end_comp.sh_in
	CONNECT inlet.g_out TO fan.g_in
	CONNECT fan.g_out TO mixer.g_in2
	CONNECT lp_turbine.sh_out TO fan.sh_in
	CONNECT fan.sh_out TO sh_end_fan.sh_in
	CONNECT fuelmeter.f_out TO valve_burner.f_in
	CONNECT fuelmeter.s_out TO monitor.s_fuel
	CONNECT split1.g_branch TO hp_turbine.g_in
	CONNECT hp_turbine.g_out TO lp_turbine.g_in
	CONNECT hp_turbine.sh_in TO sh_end_hp_tur.sh_in
	CONNECT inlet.thrust TO monitor.thrust
	CONNECT split2.g_branch TO lp_turbine.g_in
	CONNECT lp_turbine.g_out TO mixer.g_in1
	CONNECT lp_turbine.sh_in TO sh_end_lp_tur.sh_in
	CONNECT nozzle.thrust TO monitor.thrust
	CONNECT split1.g_out TO split2.g_in
	CONNECT fuelmeter.f_out TO valve_afterburner.f_in
	CONNECT fuel_tank.f_out TO fuelmeter.f_in
END COMPONENT

COMPONENT turbojet
"Turbojet example"
TOPOLOGY

		-----------------------------------------------------------
		-- Coded in TURBOJET_EXAMPLES.turbojet
		-----------------------------------------------------------
	TURBOJET.Fuelmeter fuelmeter
	TURBOJET.Turbine turbine (I = 10,CG1 = 1,CG2 = 1,CG3 = 1,CG4 = 1,G1 = { { 0.3125,0.5,0.5625,0.6875,0.875,1,1.0625,1.125,1.25,1.375,1.5} ,{ 0.53839,0.8,0.90001,1,1.1,1.1478,1.2434} ,{ { 0.89607,0.90741,0.91421,0.92593,0.9394,0.94603,0.95171} ,{ 0.97399,0.97222,0.96964,0.96953,0.97082,0.97177,0.97389} ,{ 0.985,0.98338,0.9801,0.97852,0.97871,0.97922,0.9805} ,{ 1.0001,0.99883,0.99531,0.99168,0.99027,0.99013,0.99019} ,{ 1.0054,1.0048,1.0039,0.9993,0.99707,0.99657,0.99592} ,{ 1.0064,1.006,1.0047,1,0.99789,0.9975,0.99711} ,{ 1.0067,1.006,1.0047,1.0005,0.99836,0.99785,0.99717} ,{ 1.0068,1.006,1.0047,1.0006,0.99859,0.99814,0.99758} ,{ 1.0068,1.006,1.0047,1.0006,0.99859,0.99814,0.99757} ,{ 1.0067,1.006,1.0047,1.0004,0.99828,0.99776,0.99703} ,{ 1.0066,1.006,1.0047,1.0002,0.99782,0.99718,0.99622} } } ,G2 = { { 0.3125,0.5,0.5625,0.6875,0.875,1,1.0625,1.125,1.25,1.375,1.5} ,{ 0.53839,0.8,0.90001,1,1.1,1.1478,1.2434} ,{ { 0.92747,0.89839,0.86572,0.83503,0.79598,0.77531,0.73271} ,{ 0.93532,0.93889,0.93711,0.93147,0.91193,0.89927,0.87182} ,{ 0.93477,0.94163,0.94619,0.94593,0.93144,0.92111,0.89826} ,{ 0.93601,0.94502,0.96127,0.96861,0.96285,0.95697,0.94318} ,{ 0.93153,0.95853,0.97618,0.98702,0.99097,0.99121,0.99063} ,{ 0.91248,0.96861,0.98973,1,1.0049,1.0059,1.0071} ,{ 0.89598,0.96781,0.99074,1.0046,1.0089,1.0087,1.0067} ,{ 0.87761,0.95496,0.98227,1.0051,1.0097,1.0076,1.0005} ,{ 0.83305,0.91721,0.95585,0.99457,1.006,1.0049,0.99856} ,{ 0.77843,0.87144,0.92311,0.97646,0.99875,1.002,1.0036} ,{ 0.73636,0.82166,0.8872,0.95455,0.98975,0.99889,1.0122} } } ) 
	TURBOJET.Burner burner (VOL = 1,GLP = 0,CX = { 99.7,-0.004568246,0.000300007,-8.73718e-06,3.97923e-08,-5.46974e-11} ) 
	TURBOJET.SplitFrac split2 (k = 0.03) 
	TURBOJET.SplitFrac split1 (k = 0.04) 
	TURBOJET.ShaftEnd sh_end_comp
	TURBOJET.ShaftEnd sh_end_tur
	TURBOJET.FuelValve valve_burner (k = 1) 
	TURBOJET.Inlet inlet (dTamb = 0,Rhum = 30,ERAM = FromData,zeram = 0.99,eramxx = { { 0,12.5,25,30} ,{ 1,0.99,0.98,0.97} } ) 
	TURBOJET.Monitor monitor
	TURBOJET.Nozzle nozzle (A_exit = 1) 
	TURBOJET.Compressor compressor (I = 8,ND = 13051.397,CG1 = 27.42426,CG2 = 0.909585,CG4 = 1207.2848,F1 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.268984,0.274445,0.2821,0.29878,0.300624,0.306971,0.317768,0.317768,0.317768,0.320827} ,{ 0.359459,0.384362,0.419562,0.433043,0.444121,0.466246,0.468742,0.486873,0.493832,0.55022} ,{ 0.430983,0.432107,0.475888,0.496047,0.517361,0.53159,0.545196,0.563795,0.587917,0.62992} ,{ 0.53365,0.549752,0.577993,0.603177,0.613194,0.627268,0.639282,0.649954,0.663279,0.68868} ,{ 0.669395,0.690803,0.71842,0.741949,0.752184,0.762513,0.771813,0.781892,0.810383,0.833007} ,{ 0.73499,0.752091,0.779052,0.799867,0.813566,0.823365,0.839654,0.859657,0.887898,0.907995} ,{ 0.812099,0.825299,0.851325,0.872919,0.884903,0.899819,0.928809,0.958642,0.984667,1.01157} ,{ 0.847143,0.853915,0.879005,0.900849,0.912301,0.927467,0.962386,1.00208,1.02661,1.0458} ,{ 0.884403,0.897541,0.917232,0.938358,0.950435,0.964789,0.997462,1.05138,1.08668,1.1} ,{ 0.982233,0.995402,1.00891,1.03082,1.03925,1.05373,1.09501,1.15215,1.21185,1.22807} } } ,F2 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.592728,0.691765,0.73733,0.768695,0.787248,0.815484,0.829496,0.829496,0.829496,0.821602} ,{ 0.627116,0.777437,0.811719,0.839002,0.841732,0.85605,0.859838,0.859544,0.847438,0.827249} ,{ 0.698976,0.840826,0.859191,0.877532,0.879803,0.889015,0.887062,0.882838,0.874062,0.852826} ,{ 0.852955,0.902368,0.929427,0.940016,0.944498,0.945628,0.947133,0.947075,0.942992,0.922368} ,{ 0.963228,0.973746,0.985487,0.991946,0.992828,0.993393,0.993017,0.992134,0.985299,0.976263} ,{ 0.986287,0.992958,1.00232,1.00752,1.00849,1.00808,1.00802,1.00581,0.996323,0.97904} ,{ 0.998381,1.004,1.0093,1.01343,1.0139,1.01406,1.01126,1.00063,0.986052,0.965546} ,{ 0.999123,1.00464,1.00886,1.0129,1.01389,1.01491,1.01089,0.993593,0.978899,0.959898} ,{ 0.997781,1.00249,1.00484,1.00896,1.01051,1.01145,1.00863,0.988464,0.966016,0.954628} ,{ 0.986534,0.988887,0.992417,0.995523,0.998299,0.998299,0.99124,0.968887,0.92771,0.915945} } } ,F3 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.26193,0.261375,0.26082,0.25971,0.2586,0.255271,0.254161,0.250831,0.247501,0.245282} ,{ 0.317978,0.317423,0.315759,0.314649,0.312984,0.310764,0.309654,0.305215,0.301885,0.294116} ,{ 0.377357,0.377357,0.376247,0.374027,0.372917,0.370697,0.365148,0.359599,0.352939,0.337401} ,{ 0.495003,0.493893,0.491119,0.488344,0.487234,0.485014,0.482795,0.480575,0.478355,0.458377} ,{ 0.682572,0.680352,0.677022,0.671473,0.669253,0.664814,0.662594,0.658154,0.648165,0.632627} ,{ 0.766922,0.764702,0.761372,0.758043,0.755268,0.752493,0.748054,0.738065,0.724192,0.69811} ,{ 0.856822,0.855157,0.852382,0.849052,0.845723,0.841283,0.82963,0.811317,0.789119,0.754713} ,{ 0.893447,0.891782,0.889008,0.883458,0.881239,0.876799,0.861261,0.839064,0.816866,0.7869} ,{ 0.936732,0.935622,0.933403,0.927909,0.924557,0.920251,0.905656,0.876799,0.852382,0.844613} ,{ 1.04439,1.04328,1.04106,1.03604,1.03218,1.02648,1.00887,0.981127,0.952271,0.946721} } } ) 
	TURBOJET.FuelTank fuel_tank (FHV = 43200,X = { 0.25,0.75,0} ) 

		-----------------------------------------------------------
		-- Coded in TURBOJET_EXAMPLES.turbojet
		-----------------------------------------------------------
	CONNECT valve_burner.f_out TO burner.f_in
	CONNECT split2.g_out TO burner.g_in
	CONNECT burner.g_out TO turbine.g_in
	CONNECT fuelmeter.f_out TO valve_burner.f_in
	CONNECT fuelmeter.s_out TO monitor.s_fuel
	CONNECT inlet.thrust TO monitor.thrust
	CONNECT nozzle.thrust TO monitor.thrust
	CONNECT turbine.g_out TO nozzle.g_in
	CONNECT split2.g_branch TO nozzle.g_in
	CONNECT sh_end_tur.sh_in TO turbine.sh_in
	CONNECT split1.g_branch TO turbine.g_in
	CONNECT split1.g_out TO split2.g_in
	CONNECT turbine.sh_out TO compressor.sh_in
	CONNECT compressor.sh_out TO sh_end_comp.sh_in
	CONNECT inlet.g_out TO compressor.g_in
	CONNECT compressor.g_out TO split1.g_in
	CONNECT fuel_tank.f_out TO fuelmeter.f_in
END COMPONENT

COMPONENT turbojet_afterburner
"Turbojet with afterburner"
TOPOLOGY

		-----------------------------------------------------------
		-- Coded in TURBOJET_EXAMPLES.turbojet_afterburner
		-----------------------------------------------------------
	TURBOJET.Fuelmeter fuelmeter
	TURBOJET.AfterBurner afterburner (A = 1,Cd = 0.1,eta = 0.98) 
	TURBOJET.Burner burner (VOL = 1,GLP = 0,CX = { 99.7,-0.004568246,0.000300007,-8.73718e-06,3.97923e-08,-5.46974e-11} ) 
	TURBOJET.Compressor compressor (I = 8,ND = 13051.397,CG1 = 27.42426,CG2 = 0.909585,CG4 = 1207.2848,F1 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.268984,0.274445,0.2821,0.29878,0.300624,0.306971,0.317768,0.317768,0.317768,0.320827} ,{ 0.359459,0.384362,0.419562,0.433043,0.444121,0.466246,0.468742,0.486873,0.493832,0.55022} ,{ 0.430983,0.432107,0.475888,0.496047,0.517361,0.53159,0.545196,0.563795,0.587917,0.62992} ,{ 0.53365,0.549752,0.577993,0.603177,0.613194,0.627268,0.639282,0.649954,0.663279,0.68868} ,{ 0.669395,0.690803,0.71842,0.741949,0.752184,0.762513,0.771813,0.781892,0.810383,0.833007} ,{ 0.73499,0.752091,0.779052,0.799867,0.813566,0.823365,0.839654,0.859657,0.887898,0.907995} ,{ 0.812099,0.825299,0.851325,0.872919,0.884903,0.899819,0.928809,0.958642,0.984667,1.01157} ,{ 0.847143,0.853915,0.879005,0.900849,0.912301,0.927467,0.962386,1.00208,1.02661,1.0458} ,{ 0.884403,0.897541,0.917232,0.938358,0.950435,0.964789,0.997462,1.05138,1.08668,1.1} ,{ 0.982233,0.995402,1.00891,1.03082,1.03925,1.05373,1.09501,1.15215,1.21185,1.22807} } } ,F2 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.592728,0.691765,0.73733,0.768695,0.787248,0.815484,0.829496,0.829496,0.829496,0.821602} ,{ 0.627116,0.777437,0.811719,0.839002,0.841732,0.85605,0.859838,0.859544,0.847438,0.827249} ,{ 0.698976,0.840826,0.859191,0.877532,0.879803,0.889015,0.887062,0.882838,0.874062,0.852826} ,{ 0.852955,0.902368,0.929427,0.940016,0.944498,0.945628,0.947133,0.947075,0.942992,0.922368} ,{ 0.963228,0.973746,0.985487,0.991946,0.992828,0.993393,0.993017,0.992134,0.985299,0.976263} ,{ 0.986287,0.992958,1.00232,1.00752,1.00849,1.00808,1.00802,1.00581,0.996323,0.97904} ,{ 0.998381,1.004,1.0093,1.01343,1.0139,1.01406,1.01126,1.00063,0.986052,0.965546} ,{ 0.999123,1.00464,1.00886,1.0129,1.01389,1.01491,1.01089,0.993593,0.978899,0.959898} ,{ 0.997781,1.00249,1.00484,1.00896,1.01051,1.01145,1.00863,0.988464,0.966016,0.954628} ,{ 0.986534,0.988887,0.992417,0.995523,0.998299,0.998299,0.99124,0.968887,0.92771,0.915945} } } ,F3 = { { 60,70,75,80,85,87.5,90,91,92,95} ,{ 0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.1} ,{ { 0.26193,0.261375,0.26082,0.25971,0.2586,0.255271,0.254161,0.250831,0.247501,0.245282} ,{ 0.317978,0.317423,0.315759,0.314649,0.312984,0.310764,0.309654,0.305215,0.301885,0.294116} ,{ 0.377357,0.377357,0.376247,0.374027,0.372917,0.370697,0.365148,0.359599,0.352939,0.337401} ,{ 0.495003,0.493893,0.491119,0.488344,0.487234,0.485014,0.482795,0.480575,0.478355,0.458377} ,{ 0.682572,0.680352,0.677022,0.671473,0.669253,0.664814,0.662594,0.658154,0.648165,0.632627} ,{ 0.766922,0.764702,0.761372,0.758043,0.755268,0.752493,0.748054,0.738065,0.724192,0.69811} ,{ 0.856822,0.855157,0.852382,0.849052,0.845723,0.841283,0.82963,0.811317,0.789119,0.754713} ,{ 0.893447,0.891782,0.889008,0.883458,0.881239,0.876799,0.861261,0.839064,0.816866,0.7869} ,{ 0.936732,0.935622,0.933403,0.927909,0.924557,0.920251,0.905656,0.876799,0.852382,0.844613} ,{ 1.04439,1.04328,1.04106,1.03604,1.03218,1.02648,1.00887,0.981127,0.952271,0.946721} } } ) 
	TURBOJET.Turbine turbine (I = 10,CG1 = 1,CG2 = 1,CG3 = 1,CG4 = 1,G1 = { { 0.3125,0.5,0.5625,0.6875,0.875,1,1.0625,1.125,1.25,1.375,1.5} ,{ 0.53839,0.8,0.90001,1,1.1,1.1478,1.2434} ,{ { 0.89607,0.90741,0.91421,0.92593,0.9394,0.94603,0.95171} ,{ 0.97399,0.97222,0.96964,0.96953,0.97082,0.97177,0.97389} ,{ 0.985,0.98338,0.9801,0.97852,0.97871,0.97922,0.9805} ,{ 1.0001,0.99883,0.99531,0.99168,0.99027,0.99013,0.99019} ,{ 1.0054,1.0048,1.0039,0.9993,0.99707,0.99657,0.99592} ,{ 1.0064,1.006,1.0047,1,0.99789,0.9975,0.99711} ,{ 1.0067,1.006,1.0047,1.0005,0.99836,0.99785,0.99717} ,{ 1.0068,1.006,1.0047,1.0006,0.99859,0.99814,0.99758} ,{ 1.0068,1.006,1.0047,1.0006,0.99859,0.99814,0.99757} ,{ 1.0067,1.006,1.0047,1.0004,0.99828,0.99776,0.99703} ,{ 1.0066,1.006,1.0047,1.0002,0.99782,0.99718,0.99622} } } ,G2 = { { 0.3125,0.5,0.5625,0.6875,0.875,1,1.0625,1.125,1.25,1.375,1.5} ,{ 0.53839,0.8,0.90001,1,1.1,1.1478,1.2434} ,{ { 0.92747,0.89839,0.86572,0.83503,0.79598,0.77531,0.73271} ,{ 0.93532,0.93889,0.93711,0.93147,0.91193,0.89927,0.87182} ,{ 0.93477,0.94163,0.94619,0.94593,0.93144,0.92111,0.89826} ,{ 0.93601,0.94502,0.96127,0.96861,0.96285,0.95697,0.94318} ,{ 0.93153,0.95853,0.97618,0.98702,0.99097,0.99121,0.99063} ,{ 0.91248,0.96861,0.98973,1,1.0049,1.0059,1.0071} ,{ 0.89598,0.96781,0.99074,1.0046,1.0089,1.0087,1.0067} ,{ 0.87761,0.95496,0.98227,1.0051,1.0097,1.0076,1.0005} ,{ 0.83305,0.91721,0.95585,0.99457,1.006,1.0049,0.99856} ,{ 0.77843,0.87144,0.92311,0.97646,0.99875,1.002,1.0036} ,{ 0.73636,0.82166,0.8872,0.95455,0.98975,0.99889,1.0122} } } ) 
	TURBOJET.SplitFrac split2 (k = 0.03) 
	TURBOJET.SplitFrac split1 (k = 0.04) 
	TURBOJET.FuelValve valve_burner (k = 1) 
	TURBOJET.FuelValve valve_afterburner (k = 1) 
	TURBOJET.ShaftEnd ShaftEndC
	TURBOJET.ShaftEnd ShaftEndT
	TURBOJET.Inlet inlet (dTamb = 0,Rhum = 30,ERAM = FromData,zeram = 0.99,eramxx = { { 0,12.5,25,30} ,{ 1,0.99,0.98,0.97} } ) 
	TURBOJET.Nozzle_Var nozzle (A_exit = 1) 
	TURBOJET.Monitor monitor
	TURBOJET.FuelTank fuel_tank (FHV = 43200,X = { 0.25,0.75,0} ) 

		-----------------------------------------------------------
		-- Coded in TURBOJET_EXAMPLES.turbojet_afterburner
		-----------------------------------------------------------
	CONNECT compressor.sh_out TO ShaftEndC.sh_in
	CONNECT ShaftEndT.sh_in TO turbine.sh_in
	CONNECT valve_afterburner.f_out TO afterburner.f_in
	CONNECT turbine.g_out TO afterburner.g_in
	CONNECT split2.g_branch TO afterburner.g_in
	CONNECT afterburner.g_out TO nozzle.g_in
	CONNECT valve_burner.f_out TO burner.f_in
	CONNECT split2.g_out TO burner.g_in
	CONNECT burner.g_out TO turbine.g_in
	CONNECT inlet.g_out TO compressor.g_in
	CONNECT compressor.g_out TO split1.g_in
	CONNECT turbine.sh_out TO compressor.sh_in
	CONNECT fuelmeter.f_out TO valve_afterburner.f_in
	CONNECT fuelmeter.f_out TO valve_burner.f_in
	CONNECT fuelmeter.s_out TO monitor.s_fuel
	CONNECT inlet.thrust TO monitor.thrust
	CONNECT nozzle.thrust TO monitor.thrust
	CONNECT split1.g_branch TO turbine.g_in
	CONNECT split1.g_out TO split2.g_in
	CONNECT fuel_tank.f_out TO fuelmeter.f_in
END COMPONENT
